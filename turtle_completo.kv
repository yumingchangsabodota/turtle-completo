#:import SlideTransition kivy.uix.screenmanager.SlideTransition
#File name: turtle_completo.py
#:kivy 1.10.1

#manage screen names and ids
ScreenManagement:
	#screen name variables so the py codes can access widgets inside the screens
	blockexplorerscreen:blockexplorerscreen 
	blocksearchscreen:blocksearchscreen
	walletscreen:walletscreen
    transition:SlideTransition()
    OnStartScreen:
        id:onstartscreen
        name: 'onstartscreen'
    WalletScreen:
		id:walletscreen
		name:'walletscreen'
    TransactionScreen:

    BlockExplorerScreen:
        id:blockexplorerscreen
        name:'blockexplorerscreen'
    BlockSearchScreen:
        id:blocksearchscreen
        name: 'blocksearchscreen'


#_________________________________________some label properties____________________       
#invisible label for padding and design purposes    
<InvLabel@Label>:
    color: 0,1,0,1
    background_color:0,0,0,0
    halign:'center'
    valign:'center'
    text_size: self.size
	
#long label's properties
<LongLabelLabel@Label>:
	color: 1,1,1,0.8
	halign:'center'
	valign:'center'
	font_size: 15
	
#tableheader label general properties
<TableHeaderItem@Label>:
	color: 0,0,0,0.8
	halign:'center'
	valign:'center'
	font_size: 14

#table label general properties
<TableItem@Label>:
	color: 33/255,38/255,33/255,0.9
	halign:'center'
	valign:'center'
	font_size: 13


#_________________________________________some layout properties____________________	
#main container for pages

<MyContainer@RelativeLayout>:
    size_hint:0.9,1
    pos_hint: {"x":0.1,"y":0}
    canvas:
        Color:
            rgba: 0, 1, 1, 0
        Rectangle:
            size: self.size

#long label
<LongLabel@RelativeLayout>:
    size_hint:1,0.025
    canvas.before:
        Color:
            rgba: 0, 0, 0, 0.8
        Rectangle:
            size: self.size
			
#Recent tableheader layout
<RecentBlockTableHeader@RelativeLayout>:
    size_hint:1,0.025
    canvas.before:
        Color:
            rgba: 0.5, 0.5, 0.5, 0.8
        Rectangle:
            size: self.size
	TableHeaderItem:
		pos_hint:{"x":0,"y":0}
		size_hint:0.1,1
		text:"Height"
	TableHeaderItem:
		pos_hint:{"x":0.1,"y":0}
		size_hint:0.075,1
		text:"Size"
	TableHeaderItem:
		pos_hint:{"x":0.175,"y":0}
		size_hint:0.45,1
		text:"Block Hash"
	TableHeaderItem:
		pos_hint:{"x":0.625,"y":0}
		size_hint:0.1,1
		text:"Difficulty"
	TableHeaderItem:
		pos_hint:{"x":0.725,"y":0}
		size_hint:0.05,1
		text:"Tx"
	TableHeaderItem:
		pos_hint:{"x":0.775,"y":0}
		size_hint:0.225,1
		text:"Date & Time"
		
#Txpool tableheader layout
<TxPoolTableHeader@RelativeLayout>:
    size_hint:1,0.025
    canvas.before:
        Color:
            rgba: 0.5, 0.5, 0.5, 0.8
        Rectangle:
            size: self.size
	TableHeaderItem:
		pos_hint:{"x":0,"y":0}
		size_hint:0.15,1
		text:"Amount"
	TableHeaderItem:
		pos_hint:{"x":0.15,"y":0}
		size_hint:0.1,1
		text:"Fee"
	TableHeaderItem:
		pos_hint:{"x":0.25,"y":0}
		size_hint:0.1,1
		text:"Size"
	TableHeaderItem:
		pos_hint:{"x":0.35,"y":0}
		size_hint:0.65,1
		text:"Hash"	
			
#txpoolData layout
<TxPoolData>:
	size_hint_x: 1
	size_hint_y: None
	height: 25
	txp_amount:txp_amount
	txp_fee:txp_fee
	txp_size:txp_size
	txp_hash:txp_hash
	colors: (0.5, 0.5, 0.5, 0.3)
	canvas.before:
		Color:
			rgba: self.colors
		Rectangle:
			size: self.size
	TableItem:
		id:txp_amount
		name:"txp_amount"
		pos_hint:{"x":0,"y":0}
		size_hint:0.15,1

	TableItem:
		id:txp_fee
		name:"txp_fee"
		pos_hint:{"x":0.15,"y":0}
		size_hint:0.1,1

	TableItem:
		id:txp_size
		name:"txp_size"
		pos_hint:{"x":0.25,"y":0}
		size_hint:0.1,1

	TableItem:
		id:txp_hash
		name:"txp_hash"
		pos_hint:{"x":0.35,"y":0}
		size_hint:0.65,1

		
		
#recentblockData layout
<RecentBlockData>:
	size_hint_x: 1
	size_hint_y: None
	height: 25
	rctblk_height:rctblk_height
	rctblk_size:rctblk_size
	rctblk_hash:rctblk_hash
	rctblk_difficulty:rctblk_difficulty
	rctblk_tx:rctblk_tx
	rctblk_datetime:rctblk_datetime
	colors: (0.5, 0.5, 0.5, 0.3)
	canvas.before:
		Color:
			rgba: self.colors
		Rectangle:
			size: self.size
	TableItem:
		id:rctblk_height
		name:"rctblk_height"
		pos_hint:{"x":0,"y":0}
		size_hint:0.1,1
	TableItem:
		id:rctblk_size
		name:"rctblk_size"
		pos_hint:{"x":0.1,"y":0}
		size_hint:0.075,1
	TableItem:
		id:rctblk_hash
		name:"rctblk_hash"
		pos_hint:{"x":0.175,"y":0}
		size_hint:0.45,1
	TableItem:
		id:rctblk_difficulty
		name:"rctblk_difficulty"
		pos_hint:{"x":0.625,"y":0}
		size_hint:0.1,1
	TableItem:
		id:rctblk_tx
		name:"rctblk_tx"
		pos_hint:{"x":0.725,"y":0}
		size_hint:0.05,1
	TableItem:
		id:rctblk_datetime
		name:"rctblk_datetime"
		pos_hint:{"x":0.775,"y":0}
		size_hint:0.225,1
		
#wallet latest transaction data layout
<walletTxData>:
	wtransferType:wtransferType
	wTxhash_andpaymentId:wTxhash_andpaymentId
	wTxamount:wTxamount
	wTxfee:wTxfee
	wTxtime:wTxtime
	size_hint_x: 1
	size_hint_y: None
	height: 70
	colors: (0.5, 0.5, 0.5, 0.3)
	canvas.before:
		Color:
			rgba: self.colors
		Rectangle:
			size: self.size
	TableItem:
		id:wtransferType
		name:"wtransferType"
		pos_hint:{"x":0,"y":0}
		size_hint:0.1,1
		markup: True
	TableItem:
		id:wTxhash_andpaymentId
		name:"wTxhash_andpaymentId"
		pos_hint:{"x":0.1,"y":0}
		size_hint:0.525,1
	TableItem:
		id:wTxamount
		name:"wTxamount"
		pos_hint:{"x":0.625,"y":0}
		size_hint:0.125,1
	TableItem:
		id:wTxfee
		name:"wTxfee"
		pos_hint:{"x":0.75,"y":0}
		size_hint:0.1,1
	TableItem:
		id:wTxtime
		name:"wTxtime"
		pos_hint:{"x":0.85,"y":0}
		size_hint:0.15,1
	
		
#---------------------------------
#BigLabel
<BigLabel>:
	size_hint: 1, None
	height : 30
	halign:'left'
	valign:'middle'
	text_size:self.width-30,self.height
	font_size: 24
	color:0,0,0,1
	markup: True
		
#SmallLabel
<SmallLabel>:
	size_hint: 1, None
	height : 25
	halign:'left'
	valign:'middle'
	text_size:self.width-30,self.height
	font_size: 13
	color:0,0,0,1
	markup: True

#BlkSearchData layout
<BlkSearchData>:
	blkResultItem1:blkResultItem1
	blkResultItem2:blkResultItem2
	size_hint_x: 1
	size_hint_y: None
	height: 25
	colors: (0.5, 0.5, 0.5, 0)
	canvas.before:
		Color:
			rgba: self.colors
		Rectangle:
			size: self.size
	SmallLabel:
		id:blkResultItem1
		size_hint:0.325,1
		pos_hint:{"x":0,"y":0}
	SmallLabel:
		id:blkResultItem2
		size_hint:0.675,1
		pos_hint:{"x":0.325,"y":0}
		
#Block search txs info
<BlkSearchTx>:
	tx_hash:tx_hash
	tx_fee:tx_fee
	tx_totalAmount:tx_totalAmount
	tx_Size:tx_Size
	size_hint_x: 1
	size_hint_y: None
	height: 25
	colors: (0.5, 0.5, 0.5, 0.3)
	canvas.before:
		Color:
			rgba: self.colors
		Rectangle:
			size: self.size
	Label:
		id: tx_hash
		pos_hint:{"x":0,"y":0}
		size_hint: 0.45, 1	
		halign:'left'
		valign:'middle'
		text_size:self.width-30,self.height
		font_size: 13
		color:0,0,0,1
	Label:
		id: tx_fee
		pos_hint:{"x":0.45,"y":0}
		size_hint: 0.1, 1	
		halign:'left'
		valign:'middle'
		text_size:self.width-30,self.height
		font_size: 13
		color:0,0,0,1
	Label:
		id: tx_totalAmount
		pos_hint:{"x":0.55,"y":0}
		size_hint: 0.15, 1	
		halign:'left'
		valign:'middle'
		text_size:self.width-30,self.height
		font_size: 13
		color:0,0,0,1
	Label:
		id: tx_Size
		pos_hint:{"x":0.7,"y":0}
		size_hint: 0.3, 1	
		halign:'left'
		valign:'middle'
		text_size:self.width-30,self.height
		font_size: 13
		color:0,0,0,1

		
#TX Inputs layout		
<TXInputs>:
	input_amount:input_amount
	input_image:input_image
	size_hint_x: 1
	size_hint_y: None
	height: 25
	colors: (0.5, 0.5, 0.5, 0.3)
	canvas.before:
		Color:
			rgba: self.colors
		Rectangle:
			size: self.size
	Label:
		id: input_amount
		pos_hint:{"x":0,"y":0}
		size_hint: 0.25, 1	
		halign:'left'
		valign:'middle'
		text_size:self.width-30,self.height
		font_size: 13
		color:0,0,0,1
	Label:
		id: input_image
		pos_hint:{"x":0.25,"y":0}
		size_hint: 0.75, 1
		halign:'left'
		valign:'middle'
		text_size:self.width-30,self.height
		font_size: 13
		color:0,0,0,1
		
#TX Outputs layout		
<TXOutputs>:
	output_amount:output_amount
	output_key:output_key
	size_hint_x: 1
	size_hint_y: None
	height: 25
	colors: (0.5, 0.5, 0.5, 0.3)
	canvas.before:
		Color:
			rgba: self.colors
		Rectangle:
			size: self.size
	Label:
		id: output_amount
		pos_hint:{"x":0,"y":0}
		size: 0.25, 1
		halign:'left'
		valign:'middle'
		text_size:self.width-30,self.height
		font_size: 13
		color:0,0,0,1
	Label:
		id: output_key
		pos_hint:{"x":0.25,"y":0}
		size: 0.75, 1
		halign:'left'
		valign:'middle'
		text_size:self.width-30,self.height
		font_size: 13
		color:0,0,0,1
		
#--------------------------------
   
#daemon status label
<StatusLabel>:
    pos_hint:{"x":0,"y":0.8}
    size_hint:0.1,0.2
    canvas.before:
        Color:
            rgba: 0, 0, 0, 0.6
        Rectangle:
            size: self.size
    Label:
		id:block_status_label
		name:"block_status_label"
        color: 1,1,0,0.8
        halign:'center'
        valign:'center'
        text_size: self.size
        text:app.status_text
		font_size: 13
		
#wallet status label
<WalletStatusLabel>:
    pos_hint:{"x":0,"y":0.6}
    size_hint:0.1,0.2
    canvas.before:
        Color:
            rgba: 0, 0, 0, 0.6
        Rectangle:
            size: self.size
    Label:
		id:wallet_status_label
		name:"wallet_status_label"
        color: 1,1,0,0.8
        halign:'center'
        valign:'center'
        text_size: self.size
        text:app.wallet_status_text
		font_size: 13


#_________________________________________some button properties____________________    
#general button properties
<MyButton@Button>:
    color: 250/255,197/255,195/255,0.8
    background_color: (33/255,38/255,33/255,0.3) if self.state == 'normal' else (0.6,0,0.7,0.5)
    halign:'center'
    valign:'center'
    text_size: self.size
    bold:True
    
#buttons used in multiple pages
<ExitButton@MyButton>:
    id:exit
    text:"Exit"
	on_release: app.quitApp()
	
<AboutButton@MyButton>:
    id:about
    text:"About"
	on_release:app.show_popup()
	
<GoToWalletButton@MyButton>:
    id:gotowallet
    text:"Wallet"
	on_release: app.ToWallet()
	
<RecentBlocksButton@MyButton>:
    id:recentblocks
    text:"Blocks & Pool"
	on_release:app.root.current = "blockexplorerscreen" 
	
<GoToSearchButton@MyButton>:
    id:gotosearch
    text:"Explore"
	on_release:app.root.current = "blocksearchscreen"
	
<MyTxButton@MyButton>:
    id:mytx
    text:"My Tx"
	
<searchTxButton@MyButton>:
	id:searchtxbutton
	text: "Go"
	font_size: 14
	color: 1,1,0,0.8
	background_color: (33/255,38/255,33/255,1) if self.state == 'normal' else (0.6,0,0.7,1)

<searchBlkButton@MyButton>:
	id:searchBlkbutton
	text: "Go"
	font_size: 14
	color: 1,1,0,0.8
	background_color: (33/255,38/255,33/255,1) if self.state == 'normal' else (0.6,0,0.7,1)
#________________________________________________________________________________
#general side bar properties
<SideBar@BoxLayout>:
    pos_hint:{"x":0,"y":0}
    size_hint:0.1,0.6
    orientation: 'vertical'
    spacing: 0
    padding: 0
    canvas.before:
        Color:
            rgba: 33/255,38/255,33/255,0.3
        Rectangle:
            size: self.size
    RecentBlocksButton:
		on_release:app.root.transition.direction = 'left'
    GoToSearchButton:
		on_release:app.root.transition.direction = 'left'
	GoToWalletButton:
		on_release:app.root.transition.direction = 'left'
	InvLabel
	InvLabel
    InvLabel
	InvLabel
	InvLabel
    AboutButton
    ExitButton
            
#app screen background
<BackGround@FloatLayout>:
    Widget:
        size:self.size
        pos:self.pos
        canvas.before:
            Rectangle:
                size:362,401
                pos:((root.width*0.5)-(362*0.5)),((root.height*0.5)-(401*0.5-50))
                source:'img/turtlecoin_icon_white@2x.png'
				
#________________________________Scroll View template______________________________________
<ScrollViewTemplate@ScrollView>:
	do_scroll_x:False
	canvas.before:
		Color:
			rgba: 0/255,133/255,61/255,0
			#rgba: 1,0,0,0.3
		Rectangle:
			size: self.size
			pos: self.pos
			
<DataListTemplate@GridLayout>:
	cols: 1
	size_hint: 1,None
	height: self.minimum_height
	
<TxSearchDisplay@GridLayout>:
	cols: 1
	size_hint: 1,None
	height: self.minimum_height

<BlkSearchDisplay@GridLayout>:
	cols: 1
	size_hint: 1,None
	height: self.minimum_height

<WalletTransaction@GridLayout>:
	cols: 1
	size_hint: 1,None
	height: self.minimum_height

		
#__________________________________________________Popups____________________________
#About Popup
<AboutPopup>:
	size_hint: 0.5,0.5
	auto_dismiss: False
	title: "About Turtle Completo, version:0.1.0"
	FloatLayout:
		size_hint:1,1
		pos_hint:{"x":0,"y":0}
		TextInput:
			size_hint:1,0.9
			pos_hint:{"x":0,"y":0.1}
			multiline:True
			background_color: 0,0,0,0
			foreground_color: 1,1,1,1
			cursor_blink: False
			cursor_color: 0,0,0,0
			text: "Turtle Completo is a non-profitable community project written by Sabo (Revolutionary).\nIt is a local block explorer of the turtlecoin blockchain.\n\n\nSupport us with some TRTL:\n\nTRTLv1nQeHwinWcyxrPQSN3gdqxgKZqawZVJzQJ59Kwq45QvU9vafwG1bff2BecELJ3qaS16TeWEPW6UvxzxRd4u6D9wzUU5ERE\n\n\nBe a good TRTL and explore locally now!"
			readonly: True
			#text_size:self.width-25,self.height-10
		Button:
			size_hint:1,0.1
			pos_hint:{"x":0,"y":0}
			text: 'Close'	
			on_release: root.dismiss()
#Wallet prompt
<WalletPrompt>
	wallet_path:wallet_path
	wallet_password1:wallet_password1
	createWalletName:createWalletName
	wallet_password2:wallet_password2
	importWalletName:importWalletName
	wallet_password3:wallet_password3
	viewKey:viewKey
	spendKey:spendKey
	
	size_hint: 0.7,0.85
	auto_dismiss: False
	title: "Open Your Turtle Wallet"
	FloatLayout:
		size_hint:1,1
		pos_hint:{"x":0,"y":0}
		
		BigLabel:
			color: 1,1,1,1
			text: "Open an existing wallet"
			pos_hint:{"x":0.01,"y":0.9}
			
		SmallLabel:
			color: 1,1,1,1
			size_hint_y:0.02
			pos_hint:{"x":0.01,"y":0.86}
			text: app.walletPathError
			
		TextInput:
			id:wallet_path
			size_hint:0.45,0.05
			pos_hint:{"x":0.01,"y":0.8}
			multiline:False
			background_color: 1,1,1,0.3
			foreground_color: 0,0,0,1
			hint_text: "path to .wallet file"
			hint_text_color: 0,0,0,0.5
			
		Button:
			id:browse_walletPath
			size_hint:0.07,0.05
			pos_hint:{"x":0.47,"y":0.8}
			text: 'browse'
			on_release: app.browseWalletPath()
			
		TextInput:
			id:wallet_password1
			size_hint:0.3,0.05
			pos_hint:{"x":0.56,"y":0.8}
			multiline:False
			background_color: 1,1,1,0.4
			foreground_color: 0,0,0,1
			password: True
			hint_text: "wallet password"
			hint_text_color: 0,0,0,0.5
		Button:
			id:open_wallet
			size_hint:0.1,0.08
			pos_hint:{"x":0.87,"y":0.8}
			text: 'Open'	
			on_release: app.openWallet()

			
		BigLabel:
			color: 1,1,1,1
			text: "Create a new wallet"
			pos_hint:{"x":0.01,"y":0.6}
		TextInput:
			id:createWalletName
			size_hint:0.3,0.05
			pos_hint:{"x":0.01,"y":0.5}
			multiline:False
			background_color: 1,1,1,0.4
			foreground_color: 0,0,0,1
			hint_text: "name your wallet"
			hint_text_color: 0,0,0,0.5
			
		TextInput:
			id:wallet_password2
			size_hint:0.3,0.05
			pos_hint:{"x":0.47,"y":0.5}
			multiline:False
			background_color: 1,1,1,0.4
			foreground_color: 0,0,0,1
			password: True
			hint_text: "choose a password"
			hint_text_color: 0,0,0,0.5
		
		Button:
			id:create_wallet
			size_hint:0.1,0.08
			pos_hint:{"x":0.87,"y":0.5}
			text: 'Create'	
			on_release: app.createWallet()

		BigLabel:
			color: 1,1,1,1
			text: "Import wallet by secrete keys"
			pos_hint:{"x":0.01,"y":0.32}			

		TextInput:
			id:importWalletName
			size_hint:0.3,0.05
			pos_hint:{"x":0.01,"y":0.22}
			multiline:False
			background_color: 1,1,1,0.4
			foreground_color: 0,0,0,1
			hint_text: "name your wallet"
			hint_text_color: 0,0,0,0.5			
			
		TextInput:
			id:wallet_password3
			size_hint:0.3,0.05
			pos_hint:{"x":0.45,"y":0.22}
			multiline:False
			background_color: 1,1,1,0.4
			foreground_color: 0,0,0,1
			password: True
			hint_text: "choose a password"
			hint_text_color: 0,0,0,0.5
			
		TextInput:
			id:viewKey
			size_hint:0.4,0.05
			pos_hint:{"x":0.01,"y":0.16}
			multiline:False
			background_color: 1,1,1,0.3
			foreground_color: 0,0,0,1
			hint_text: "Private view key"
			hint_text_color: 0,0,0,0.5
			
		TextInput:
			id:spendKey
			size_hint:0.4,0.05
			pos_hint:{"x":0.45,"y":0.16}
			multiline:False
			background_color: 1,1,1,0.3
			foreground_color: 0,0,0,1
			hint_text: "Private spend key"
			hint_text_color: 0,0,0,0.5
		
		Button:
			id:import_wallet
			size_hint:0.1,0.08
			pos_hint:{"x":0.87,"y":0.16}
			text: 'Import'	
			on_release: app.importWallet()
			
		Button:
			id:close_prompt
			size_hint:1,0.08
			pos_hint:{"x":0,"y":0.02}
			text: 'Close'	
			on_release: root.dismiss()
			

#choose wallet file prompt
<ChooseWalletPrompt>:
	file_icon_view:file_icon_view
	size_hint : 0.5,0.65
	RelativeLayout:
	    FileChooserIconView:
			id: file_icon_view
			title: "Choose your .wallet file"
			show_hidden: False
			multiselect: False
			path: "./"
			size_hint: 1,0.9
			pos_hint: {"x":0,"y":0.1}
			on_selection:app.getWalletPath()

		Button:
			id: closeChooseFile
			size_hint:1,0.1
			pos_hint: {"x":0,"y":0}
			text: "Cancel"
			color: 1,1,1,1
			on_release: root.dismiss()
	
#__________________________________________________main____________________________________
#main app starts from here
<OnStartScreen>:
    BackGround:
                                
        MyButton:
            id:turtlecompleto
            text:"Turtle Completo"
            pos_hint: {"x":0.25, "y":0.05}
            size_hint: 0.2,0.075
            on_release:app.start_on_blockexplorer()
             
        ExitButton:
            pos_hint: {"x":0.55, "y":0.05}
            size_hint: 0.2,0.075
			
#1       
<BlockExplorerScreen>:
	txp_datalistTemplate:txp_datalistTemplate
	rctblk_datalistTemplate:rctblk_datalistTemplate
    BackGround:
        StatusLabel
		WalletStatusLabel
        SideBar				
        MyContainer:
			LongLabel:
				pos_hint:{"x":0,"y":0.975}
				LongLabelLabel:
					text:"Transaction Pool"
			TxPoolTableHeader:
				pos_hint:{"x":0,"y":0.95}
				
			ScrollViewTemplate:
				id:txp_scrollview
				size_hint:1,0.375
				pos_hint:{"x":0,"y":0.575}
				DataListTemplate:
					id:txp_datalistTemplate
					pos_hint:{'x':0,'y':0}

			LongLabel:
				pos_hint:{"x":0,"y":0.55}
				LongLabelLabel:
					text:"Recent Blocks"
			RecentBlockTableHeader:
				pos_hint:{"x":0,"y":0.525}
				
			ScrollViewTemplate:
				id:rctblk_scrollview
				size_hint:1,0.525
				pos_hint:{"x":0,"y":0}
				DataListTemplate:
					id:rctblk_datalistTemplate
					pos_hint:{'x':0,'y':0}
#2
<BlockSearchScreen>:
	txsearch_display:txsearch_display
	blksearch_display:blksearch_display
	searchTx_inputText:searchTx_inputText
	searchBlk_inputText:searchBlk_inputText
	searchblkbutton:searchblkbutton
	searchtxbutton:searchtxbutton
	
    BackGround:
        StatusLabel
		WalletStatusLabel
        SideBar
        MyContainer:
			LongLabel:
				pos_hint:{"x":0,"y":0.975}
				LongLabelLabel:
					text:"Find Transaction"
			ScrollViewTemplate:
				id:searchTx_scrollview
				size_hint: 1,0.475
				pos_hint:{"x":0,"y":0.5}
				TxSearchDisplay:
					id:txsearch_display
					pos_hint:{'x':0,'y':0}
			TextInput:
				id:searchTx_inputText
				multiline:False
				background_color: 250/255,197/255,195/255,0.5
				size_hint:0.425,0.035
				pos_hint:{"x":0.525,"y":0.5}
				font_size: 12
				hint_text: 'Transaction hash'
				hint_text_color: 0,0,0,0.4
				cursor_color: 1,1,1,1
				
			searchTxButton:
				id:searchtxbutton
				size_hint: 0.05,0.035
				pos_hint:{"x":0.95,"y":0.5}
				on_release:app.TxSchThread()
				
			LongLabel:
				pos_hint:{"x":0,"y":0.475}
				LongLabelLabel:
					text:"Check Block"
			ScrollViewTemplate:
				id:search_blk_scrollview
				size_hint:1,0.475
				pos_hint:{"x":0,"y":0}
				BlkSearchDisplay:
					id:blksearch_display
					pos_hint:{'x':0,'y':0}
			TextInput:
				id:searchBlk_inputText
				multiline:False
				background_color: 250/255,197/255,195/255,0.5
				size_hint:0.425,0.035
				pos_hint:{"x":0.525,"y":0}
				font_size: 12
				hint_text: 'Block hash, or block height'
				hint_text_color: 0,0,0,0.4
				cursor_color: 1,1,1,1
			searchBlkButton:
				id:searchblkbutton
				size_hint: 0.05,0.035
				pos_hint:{"x":0.95,"y":0}
				on_release:app.BlkSchThread()			
#3
<WalletScreen>:
	publicAddress:publicAddress
	unlockedbalance:unlockedbalance
	lockedbalance:lockedbalance
	wallettransaction:wallettransaction
	sendTxPaymentId:sendTxPaymentId
	sendTxAmount:sendTxAmount
	sendTxAddress:sendTxAddress
	sendtxbutton:sendtxbutton
	
	BackGround:
		StatusLabel
		WalletStatusLabel
        SideBar
		MyContainer:
			GridLayout:
				cols: 2 
				size_hint:0.95,0.17
				pos_hint:{"x":0.025,"y":0.82}
				padding: 10,10,10,10
				spacing: 5,0
				canvas.before:
					Color:
						rgba: 0,0,0,0.2
					Rectangle:
						size: self.size
						pos: self.pos
				BigLabel:
					id:walletAddress
					text: "Address"
					bold: True
					size_hint_x: self.parent.width*0.92-10
					text_size:self.width,self.height
				Button:
					text: "Backup"
					size_hint_x: self.parent.width*0.08-10
					size_hint_y: self.parent.height*0.25-10
				TextInput:
					id:publicAddress
					multiline:False
					readonly: True
					size_hint:1,None
					height:30
					background_color:0,0,0,0.1
					text: app.publicAddress
					cursor_blink: False
					cursor_color: 0,0,0,0
					text_size:self.width,self.height
				Button:
					text: "Change"
					size_hint_x: self.parent.width*0.08-10
					size_hint_y: self.parent.height*0.25-10
				SmallLabel:
					id:unlockedbalance
					text: app.unlockedbalance
					text_size:self.width,self.height
				Label
				SmallLabel:
					id:lockedbalance
					text: app.lockedbalance
					text_size:self.width,self.height
			#this is the layout for sending transaction
			GridLayout:
				cols: 1 
				size_hint:0.95,0.3
				pos_hint:{"x":0.025,"y":0.51}
				padding: 10,10,10,10
				canvas.before:
					Color:
						rgba: 0,0,0,0.2
					Rectangle:
						size: self.size
						pos: self.pos
				BigLabel:
					text:"Send Transaction"
					bold: True
					text_size:self.width,self.height
				SmallLabel:
					text: app.walletFeeText
					text_size:self.width,self.height
				TextInput:
					id:sendTxAddress
					multiline:False
					size_hint:1,None
					height:30
					background_color:0,0,0,0.1
					hint_text: "Enter destination address"
					hint_text_color:0,0,0,0.5
					cursor_color: 1,1,1,1
				Label:
					size_hint:1,None
					height: self.parent.height*0.08-10
				TextInput:
					id:sendTxAmount
					multiline:False
					size_hint:1,None
					height:30
					background_color:0,0,0,0.1
					hint_text: "Enter Amount"
					hint_text_color:0,0,0,0.5
					cursor_color: 1,1,1,1
				Label:
					size_hint:1,None
					height: self.parent.height*0.08-10
				TextInput:
					id:sendTxPaymentId
					multiline:False
					size_hint:1,None
					height:30
					background_color:0,0,0,0.1
					hint_text: "Enter Payment ID"
					hint_text_color:0,0,0,0.5
					cursor_color: 1,1,1,1
				Label:
					size_hint:1,None
					height: self.parent.height*0.08-10
				Button:
					id: sendtxbutton
					size_hint: None, None
					text: "SEND"
					height: 30
					width: 80
					on_release: app.sendTx()
			GridLayout:
				cols: 1 
				size_hint:0.95,0.07
				pos_hint:{"x":0.025,"y":0.43}
				padding: 10,10,10,10
				canvas.before:
					Color:
						rgba: 0,0,0,0.1
					Rectangle:
						size: self.size
						pos: self.pos
				BigLabel:
					id:walletAddress
					text: "Latest Transactions"
					bold: True
					text_size:self.width,self.height
				
			#need to add Transaction title Label here
			#this will show the transactions of the wallet			
			ScrollViewTemplate:
				id:wallettransaction_scrollview
				size_hint:0.95,0.42
				pos_hint:{"x":0.025,"y":0.01}
				WalletTransaction:
					id:wallettransaction
					pos_hint:{'x':0,'y':0}


		